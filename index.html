<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>awv</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        html {
            height: 100%;
            height: -webkit-fill-available;
        }

        body {
            font-family: 'IBM Plex Mono', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100%;
            min-height: -webkit-fill-available;
            margin: 0;
            background-color: #000;
            color: #e0e0e0;
        }

        .container {
            text-align: center;
        }

        .eth-line {
            font-size: 14px;
            letter-spacing: 0.5em;
            margin: 8px 0;
            position: relative;
            line-height: 1.4;
            margin-right: -0.5em;
            cursor: pointer;
        }

        .original-text {
            display: block;
            width: 100%;
            text-align: center;
            transition: opacity 0.1s ease;
        }

        .hover-text {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            color: #fff;
            font-weight: 500;
            text-decoration: none;
            height: 100%;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease;
        }

        @media (prefers-color-scheme: light) {
            body {
                background-color: #ffffff;
                color: #121212;
            }

            .hover-text {
                color: #000;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="eth-line">
            <span class="original-text">0x5EB9F</span>
        </div>

        <div class="eth-line">
            <span class="original-text">109b4Ff</span>
        </div>

        <div class="eth-line">
            <span class="original-text">060C262</span>
        </div>

        <div class="eth-line">
            <span class="original-text">854Cf6f</span>
        </div>

        <div class="eth-line">
            <span class="original-text">cAf290d</span>
        </div>

        <div class="eth-line">
            <span class="original-text">9B80eB1</span>
        </div>
    </div>

    <script>
        const chars = '0123456789abcdef';

        // Define links that can be randomly selected
        const links = [
            { url: "https://zora.co/@awv/", text: "Zora" },
            { url: "https://basescan.org/address/0x5eb9f109b4ff060c262854cf6fcaf290d9b80eb1", text: "BaseScan" },
            { url: "mailto:contact@awv.cx", text: "Email" }
        ];

        // Detect touch device
        const isTouchDevice = () => {
            return (('ontouchstart' in window) ||
                (navigator.maxTouchPoints > 0) ||
                (navigator.msMaxTouchPoints > 0));
        };

        // Initialize scrambling for all lines once document is loaded
        document.addEventListener('DOMContentLoaded', () => {
            setupAllLines();
        });

        function setupAllLines() {
            // First, setup ambient scrambling for all lines
            setupAmbientScrambling();

            // Then, setup interaction effects with random links
            if (isTouchDevice()) {
                setupClickEffects();
            } else {
                setupHoverEffects();
            }
        }

        function setupAmbientScrambling() {
            document.querySelectorAll('.eth-line').forEach(line => {
                const originalTextElement = line.querySelector('.original-text');
                const originalText = originalTextElement.textContent;

                // Store the original text for reference
                originalTextElement.dataset.originalText = originalText;

                // Create array to track which positions to scramble
                const positions = [];
                for (let i = 0; i < originalText.length; i++) {
                    if (Math.random() < 0.2) { // 20% chance for each character
                        positions.push(i);
                    }
                }

                // If no positions were randomly selected, force at least one
                if (positions.length === 0 && originalText.length > 0) {
                    positions.push(Math.floor(Math.random() * originalText.length));
                }

                // Set unique scramble speed for each line
                const speed = 150 + Math.floor(Math.random() * 350); // 150-500ms

                // Start ambient scrambling
                const intervalId = setInterval(() => {
                    // Only perform ambient scramble if not being interacted with
                    if (!line.classList.contains('active-hover') && !line.classList.contains('active-click')) {
                        let text = originalText.split('');

                        // Scramble the selected positions
                        positions.forEach(pos => {
                            // 10% chance to change which position gets scrambled
                            if (Math.random() < 0.1) {
                                const idx = positions.indexOf(pos);
                                positions[idx] = Math.floor(Math.random() * originalText.length);
                                pos = positions[idx];
                            }

                            if (pos < text.length) {
                                text[pos] = chars.charAt(Math.floor(Math.random() * chars.length));
                            }
                        });

                        originalTextElement.textContent = text.join('');
                    }
                }, speed);

                // Store interval ID in the element's dataset for potential cleanup
                line.dataset.ambientIntervalId = intervalId;
            });
        }

        function setupHoverEffects() {
            document.querySelectorAll('.eth-line').forEach(line => {
                const originalTextElement = line.querySelector('.original-text');
                const originalText = originalTextElement.dataset.originalText;

                // Create hover text element dynamically for random link selection
                const hoverTextElement = document.createElement('a');
                hoverTextElement.className = 'hover-text';
                hoverTextElement.target = '_blank';
                line.appendChild(hoverTextElement);

                let scrambleInterval;

                line.addEventListener('mouseenter', () => {
                    line.classList.add('active-hover');

                    // Select a random link
                    const randomLink = links[Math.floor(Math.random() * links.length)];
                    hoverTextElement.href = randomLink.url;
                    hoverTextElement.textContent = randomLink.text;

                    // Random duration before revealing (3-5 scrambles)
                    const maxScrambles = 3 + Math.floor(Math.random() * 3);
                    let scrambleCount = 0;

                    // Start scrambling
                    scrambleInterval = setInterval(() => {
                        scrambleCount++;

                        // Scramble all characters
                        let scrambledText = '';
                        for (let i = 0; i < originalText.length; i++) {
                            scrambledText += chars.charAt(Math.floor(Math.random() * chars.length));
                        }
                        originalTextElement.textContent = scrambledText;

                        // After random scramble count, show the hover text
                        if (scrambleCount >= maxScrambles) {
                            clearInterval(scrambleInterval);
                            originalTextElement.style.opacity = '0';
                            hoverTextElement.style.opacity = '1';
                        }
                    }, 50);
                });

                line.addEventListener('mouseleave', () => {
                    line.classList.remove('active-hover');
                    clearInterval(scrambleInterval);
                    originalTextElement.style.opacity = '1';
                    hoverTextElement.style.opacity = '0';

                    // Scramble back to original text
                    let reverseScrambleCount = 0;
                    const maxReverseScrambles = 3;

                    const reverseInterval = setInterval(() => {
                        reverseScrambleCount++;

                        // Scramble all characters
                        let scrambledText = '';
                        for (let i = 0; i < originalText.length; i++) {
                            scrambledText += chars.charAt(Math.floor(Math.random() * chars.length));
                        }
                        originalTextElement.textContent = scrambledText;

                        if (reverseScrambleCount >= maxReverseScrambles) {
                            clearInterval(reverseInterval);
                            originalTextElement.textContent = originalText;
                        }
                    }, 50);
                });
            });
        }

        function setupClickEffects() {
            document.querySelectorAll('.eth-line').forEach(line => {
                const originalTextElement = line.querySelector('.original-text');
                const originalText = originalTextElement.dataset.originalText;

                // Create hover text element dynamically for random link selection
                const hoverTextElement = document.createElement('a');
                hoverTextElement.className = 'hover-text';
                hoverTextElement.target = '_blank';
                line.appendChild(hoverTextElement);

                // Add click event for mobile
                line.addEventListener('click', () => {
                    // Prevent multiple active states
                    if (line.classList.contains('active-click')) {
                        return;
                    }

                    line.classList.add('active-click');

                    // Select a random link
                    const randomLink = links[Math.floor(Math.random() * links.length)];
                    hoverTextElement.href = randomLink.url;
                    hoverTextElement.textContent = randomLink.text;

                    // Random duration before revealing (3-5 scrambles)
                    const maxScrambles = 3 + Math.floor(Math.random() * 3);
                    let scrambleCount = 0;

                    // Start scrambling
                    const scrambleInterval = setInterval(() => {
                        scrambleCount++;

                        // Scramble all characters
                        let scrambledText = '';
                        for (let i = 0; i < originalText.length; i++) {
                            scrambledText += chars.charAt(Math.floor(Math.random() * chars.length));
                        }
                        originalTextElement.textContent = scrambledText;

                        // After random scramble count, show the hover text
                        if (scrambleCount >= maxScrambles) {
                            clearInterval(scrambleInterval);
                            originalTextElement.style.opacity = '0';
                            hoverTextElement.style.opacity = '1';

                            // Set a timeout to reset after 2 seconds
                            setTimeout(() => {
                                resetLine(line, originalTextElement, hoverTextElement, originalText);
                            }, 2000);
                        }
                    }, 50);
                });
            });
        }

        function resetLine(line, originalTextElement, hoverTextElement, originalText) {
            // Start a reversal scramble
            let scrambleCount = 0;
            const maxScrambles = 3;

            hoverTextElement.style.opacity = '0';
            originalTextElement.style.opacity = '1';

            const resetInterval = setInterval(() => {
                scrambleCount++;

                // Scramble all characters
                let scrambledText = '';
                for (let i = 0; i < originalText.length; i++) {
                    scrambledText += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                originalTextElement.textContent = scrambledText;

                // After scrambling, return to original text
                if (scrambleCount >= maxScrambles) {
                    clearInterval(resetInterval);
                    originalTextElement.textContent = originalText;
                    line.classList.remove('active-click');
                }
            }, 50);
        }
    </script>
</body>
</html>
